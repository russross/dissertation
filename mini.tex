\documentclass[a4paper]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage[margin=1in]{geometry}
\usepackage{sabon}

\bibliographystyle{plain}

\title{Dissertation Structure}
\author{Russ Ross}
\date{August 2006}

\begin{document}

\maketitle

\section{Introduction}
Thesis: storage requirements of virtual machine clusters are not met by existing solutions; the balance of private and shared storage needs is best addressed by optimizing for uncontended access and reverting to a client-server model in the presence of contention
\begin{itemize}
\item lots of images: 1,000s of nodes and 10s of VMs per node
\item migration: no such thing as local storage
\item deployment: image forks are essential to make lightweight service deployment practical
\item commodity disks: VMs on commodity hardware are driving this area, using the big cheap (and unreliable) disks is a no brainer
\item topology: admin domain as aggregation point for persistent caching and buffering
\item service model: lightweight private images mixed with synchronous shared images
\item security: admin domain lets us trust servers, private images means we should give as much control to clients as possible
\item snapshots: rollback for debugging and forensics
\item scalability: burden for private images should fall completely on the local node, shared images should be limited only by (actual) contention
\end{itemize}

\subsection{Virtual machines}
\subsection{Motivation}
\subsubsection{Things that a VM cluster calls for}
\begin{itemize}
\item virtual machine clusters---admin domain as aggregator and secure manager
\item mobile VMs
\item stock base images with customization---rapid deployment of services
\item commodity disks
\item snapshots and forks
\end{itemize}

\subsubsection{Desirable properties that the envoy model achieves}
\begin{itemize}
\item distribute only when there's a reason; favor centralization when practical
\item perfectly consistent persistent caching
\item local impact---heavy users bear most of the load, non-users none of it
\item serve from local machine cache when uncontended, NFS-like when shared: requests never require topology changes
\item in steady state, coordination based on actual contention, not potential contention
\item simple security model that maps well to familiar Unix semantics
\item private images act like local images, shared images scale gracefully
\end{itemize}


\section{Background}

\subsection{Xen}
\subsection{XenoServers}
\subsection{CoWNFS}
\subsection{Parallax}
\subsection{9p}
\subsection{Related works}
\begin{itemize}
\item Network file systems (NFS, Sprite, AFS, Coda, 9p, Venti)
\item Distributed (xFS)
\item Cluster (object layers, big shared volumes, GFS, Lustre)
\item Block device servers (SANs, Parallax, FAB)
\item P2P file systems (content addressed, DHT)
\item File distribution systems (Bittorrent, Gnutella)
\item previous VM storage work (Ventana, CoWNFS, Parallax, VMWare?)
\end{itemize}


\section{Design}

\subsection{User interface tour}
\subsection{High-level architecture overview}
Big diagram.
\subsection{Storage layer}
\subsection{Envoy layer}
\subsection{Lease migration}
\subsection{Forks and snapshots}
\subsection{Security}
\subsection{Recovery}
\subsection{Deleting snapshots}

\section{The Envoy prototype}

\subsection{Mapping Envoy to 9p}
\subsection{Simplifications and assumptions}
Big diagram from Design with modifications.
\subsection{Storage layer}
\subsection{Synchronization}
\subsection{Caching}

\section{Evaluation}

\subsection{Baseline comparisons to userspace 9p server}
\begin{itemize}
\item Standard benchmarks (Bonnie, etc.)
\item Local machine vs. forwarded
\item Read/write heavy vs. metadata heavy
\item With and without persistent cache
\end{itemize}
\subsection{Effects of fancy features}
\begin{itemize}
\item Snapshots: pause time and cache effects
\item Lease migration: pause time and cache effects
\item Rebalancing: 2-way contention on the ``wrong'' host vs. hosted by the dominant user
\end{itemize}
\subsection{Scaling}
\begin{itemize}
\item Load handling on a single host
\item Independence of private images
\item Loading the storage layer
\end{itemize}
\subsection{Case studies}
\begin{itemize}
\item Service deployment
\item Quantifying sharing (FC upgrade)
\end{itemize}


\section{Conclusion and future work}
\begin{itemize}
\item Envoy model in other settings
\item Readonly leases
\item Other partitioning/lease migration strategies
\item Implementation in NFSv4?
\end{itemize}

\nocite{*}
%\bibliography{fs}

\end{document}